<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GDD: Neon Blade (è¯¦ç»†è½åœ°ç‰ˆ)</title>
    <style>
        :root {
            --primary: #0052cc;
            --bg-body: #f4f5f7;
            --bg-sidebar: #ebecf0;
            --text-main: #172b4d;
            --border: #dfe1e6;
            --code-bg: #282c34;
            --note-bg: #fff0b3;
            --note-text: #172b4d;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* ä¾§è¾¹æ  */
        .sidebar {
            width: 280px;
            background-color: #fafbfc;
            border-right: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .project-title { font-size: 20px; font-weight: 800; color: #091e42; margin-bottom: 20px; letter-spacing: -0.5px; }
        .nav-group { margin-bottom: 20px; }
        .nav-header { font-size: 11px; font-weight: 700; text-transform: uppercase; color: #5e6c84; margin-bottom: 8px; }
        .nav-item { display: block; padding: 8px 10px; color: #42526e; text-decoration: none; border-radius: 3px; font-size: 14px; margin-bottom: 2px; }
        .nav-item:hover { background-color: #ebecf0; color: #091e42; }
        .nav-item.active { background-color: #e6effc; color: #0052cc; font-weight: 500; }

        /* ä¸»å†…å®¹åŒº */
        .content {
            flex: 1;
            padding: 40px 60px;
            overflow-y: auto;
            background-color: white;
            scroll-behavior: smooth;
        }

        .container { max-width: 960px; margin: 0 auto; }

        /* æ’ç‰ˆå…ƒç´  */
        h1 { font-size: 36px; margin-bottom: 10px; border-bottom: 1px solid var(--border); padding-bottom: 20px; }
        h2 { font-size: 24px; margin-top: 40px; margin-bottom: 15px; color: #172b4d; display: flex; align-items: center; }
        h3 { font-size: 18px; margin-top: 25px; margin-bottom: 10px; color: #42526e; }
        p { line-height: 1.6; color: #42526e; margin-bottom: 15px; }
        
        /* çŠ¶æ€æ ‡ç­¾ */
        .badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: bold;
            text-transform: uppercase;
            margin-left: 10px;
            vertical-align: middle;
        }
        .badge-green { background: #e3fcef; color: #006644; } /* å®Œæˆ */
        .badge-yellow { background: #fff0b3; color: #172b4d; } /* è¿›è¡Œä¸­ */
        .badge-red { background: #ffebe6; color: #de350b; }   /* å¾…å®š */

        /* è¡¨æ ¼ */
        table { width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 14px; }
        th { background-color: #f4f5f7; text-align: left; font-weight: 600; color: #5e6c84; }
        th, td { border: 1px solid var(--border); padding: 10px 12px; }
        tr:hover { background-color: #fafbfc; }

        /* é€»è¾‘å—/ä»£ç å— */
        .logic-box {
            background-color: #f4f5f7;
            border-left: 4px solid var(--primary);
            padding: 15px;
            border-radius: 0 4px 4px 0;
            margin: 15px 0;
        }
        .logic-step { display: flex; margin-bottom: 8px; align-items: baseline; }
        .step-num { font-weight: bold; color: var(--primary); margin-right: 10px; min-width: 20px; }
        
        .code-block {
            background-color: var(--code-bg);
            color: #abb2bf;
            padding: 20px;
            border-radius: 6px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 13px;
            line-height: 1.5;
            overflow-x: auto;
        }
        .keyword { color: #c678dd; }
        .string { color: #98c379; }
        .number { color: #d19a66; }
        .comment { color: #5c6370; font-style: italic; }

        /* å¼€å‘è€…å¤‡æ³¨ */
        .dev-note {
            background-color: #deebff;
            border: 1px solid #b3d4ff;
            border-radius: 4px;
            padding: 12px;
            margin: 15px 0;
            font-size: 13px;
            display: flex;
            align-items: flex-start;
        }
        .dev-note-icon { margin-right: 10px; font-size: 16px; }

        /* èµ„äº§åˆ—è¡¨ */
        .asset-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 15px; }
        .asset-card { border: 1px solid var(--border); border-radius: 4px; padding: 10px; background: white; }
        .asset-id { font-family: monospace; font-size: 11px; color: #888; margin-bottom: 5px; }
        .asset-name { font-weight: 600; font-size: 14px; margin-bottom: 5px; }
        .asset-desc { font-size: 12px; color: #666; }
        .asset-tag { font-size: 10px; padding: 2px 4px; background: #eee; border-radius: 3px; }

    </style>
</head>
<body>

    <!-- ä¾§è¾¹å¯¼èˆª -->
    <div class="sidebar">
        <div class="project-title">âš¡ Neon Blade</div>
        
        <div class="nav-group">
            <div class="nav-header">æ–‡æ¡£ä¿¡æ¯</div>
            <a href="#changelog" class="nav-item">ç‰ˆæœ¬è®°å½• (Changelog)</a>
            <a href="#overview" class="nav-item">1. æ¸¸æˆæ¦‚è§ˆ</a>
        </div>

        <div class="nav-group">
            <div class="nav-header">æ ¸å¿ƒæœºåˆ¶</div>
            <a href="#player-state" class="nav-item active">2. è§’è‰²çŠ¶æ€æœº</a>
            <a href="#combat-logic" class="nav-item">3. æˆ˜æ–—ä¸å¼¹å</a>
            <a href="#ai-behavior" class="nav-item">4. æ€ªç‰©AIé€»è¾‘</a>
        </div>

        <div class="nav-group">
            <div class="nav-header">èµ„æºä¸æ•°æ®</div>
            <a href="#data-structure" class="nav-item">5. æ•°æ®ç»“æ„ (JSON)</a>
            <a href="#asset-req" class="nav-item">6. ç¾æœ¯/éŸ³æ•ˆéœ€æ±‚è¡¨</a>
        </div>
    </div>

    <!-- å†…å®¹åŒºåŸŸ -->
    <div class="content">
        <div class="container">
            
            <h1 id="changelog">æ¸¸æˆè®¾è®¡æ–‡æ¡£ (GDD) <span class="badge badge-yellow">v0.8 Beta</span></h1>
            
            <!-- ç‰ˆæœ¬è®°å½•è¡¨ -->
            <table>
                <thead>
                    <tr>
                        <th style="width:100px">ç‰ˆæœ¬</th>
                        <th style="width:120px">æ—¥æœŸ</th>
                        <th>ä¿®æ”¹å†…å®¹</th>
                        <th style="width:100px">ä¿®æ”¹äºº</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>v0.8</td>
                        <td>2024-03-20</td>
                        <td>è¡¥å……æ€ªç‰©AIè¡Œä¸ºæ ‘ï¼›æ›´æ–°å¼¹ååˆ¤å®šå¸§æ•°</td>
                        <td>å¼ ä¸‰</td>
                    </tr>
                    <tr>
                        <td>v0.5</td>
                        <td>2024-03-15</td>
                        <td>å®Œæˆæ ¸å¿ƒ3Cæ‰‹æ„Ÿå®šä¹‰ï¼›åˆç‰ˆæˆ˜æ–—é€»è¾‘</td>
                        <td>æå››</td>
                    </tr>
                </tbody>
            </table>

            <h2 id="overview">1. æ¸¸æˆæ¦‚è§ˆ</h2>
            <p>ã€ŠNeon Bladeã€‹æ˜¯ä¸€æ¬¾å¼ºè°ƒ<b>â€œèŠ‚å¥æ„Ÿâ€</b>ä¸<b>â€œç¬é—´ååº”â€</b>çš„ä¿¯è§†è§’åŠ¨ä½œRoguelikeã€‚æ ¸å¿ƒä½“éªŒå¾ªç¯ä¸ºï¼šè¿›å…¥æˆ¿é—´ -> å¿«é€Ÿè¯†åˆ«æ€ªç‰©å‰æ‘‡ -> å®Œç¾å¼¹å/é—ªé¿ -> å¤„å†³ -> è·å¾—å¼ºåŒ–ã€‚</p>

            <h2 id="player-state">2. è§’è‰²çŠ¶æ€æœº (Player State Machine) <span class="badge badge-green">Stable</span></h2>
            <p>ä¸ºäº†ä¿è¯æ‰‹æ„Ÿä¸¥è°¨ï¼Œè§’è‰²çš„æ‰€æœ‰è¡ŒåŠ¨å¿…é¡»ä¸¥æ ¼éµå¾ªä»¥ä¸‹çŠ¶æ€æµè½¬ã€‚è¯·ç¨‹åºä¸¥æ ¼æŒ‰ç…§æ­¤é€»è¾‘ç¼–å†™ `PlayerController`ã€‚</p>

            <div class="logic-box">
                <h3>ğŸ—¡ï¸ æ”»å‡»åŠ¨ä½œæ‹†è§£ (Light Attack)</h3>
                <div class="logic-step">
                    <span class="step-num">1.</span>
                    <div><b>å‰æ‘‡ (Startup):</b> 0.1s <span class="badge badge-red">ä¸å¯æ‰“æ–­</span><br><small>æ’­æ”¾æŒ¥åˆ€æŠ¬æ‰‹åŠ¨ç”»ï¼Œæ£€æµ‹è¾“å…¥ç¼“å­˜ã€‚</small></div>
                </div>
                <div class="logic-step">
                    <span class="step-num">2.</span>
                    <div><b>åˆ¤å®š (Active):</b> 0.2s <span class="badge badge-red">äº§ç”Ÿä¼¤å®³æ¡†</span><br><small>å¼€å¯ Weapon_Colliderï¼Œæ£€æµ‹ä¸ Enemy_Hurtbox çš„ç¢°æ’ã€‚</small></div>
                </div>
                <div class="logic-step">
                    <span class="step-num">3.</span>
                    <div><b>åæ‘‡ (Recovery):</b> 0.3s <span class="badge badge-yellow">å¯è¢«é—ªé¿å–æ¶ˆ</span><br><small>åŠ¨ä½œæ”¶å°¾ã€‚å¦‚æœåœ¨ 0.1s~0.3s åŒºé—´å†…æŒ‰ä¸‹é—ªé¿ï¼Œç«‹å³åˆ‡æ¢è‡³ Dash çŠ¶æ€ã€‚</small></div>
                </div>
            </div>

            <div class="dev-note">
                <div class="dev-note-icon">ğŸ‘¨â€ğŸ’»</div>
                <div>
                    <b>ç¨‹åºæ³¨æ„ï¼š</b> è¯·å®ç°ä¸€ä¸ª `InputBuffer` (è¾“å…¥ç¼“å­˜) ç³»ç»Ÿã€‚å¦‚æœç©å®¶åœ¨â€œåæ‘‡â€æœ€å 0.1s å†…æŒ‰ä¸‹äº†æ”»å‡»é”®ï¼Œä¸‹ä¸€æ®µæ”»å‡»åº”è¯¥åœ¨åæ‘‡ç»“æŸåè‡ªåŠ¨è§¦å‘ï¼Œè€Œä¸æ˜¯å¿½ç•¥è¯¥è¾“å…¥ã€‚
                </div>
            </div>

            <h2 id="combat-logic">3. æˆ˜æ–—ä¸å¼¹åé€»è¾‘ <span class="badge badge-yellow">Testing</span></h2>
            
            <h3>3.1 å¼¹å (Parry) æ ¸å¿ƒå‚æ•°</h3>
            <table>
                <tr>
                    <th>å‚æ•°å (Variable)</th>
                    <th>æ•°å€¼ (Value)</th>
                    <th>è¯´æ˜</th>
                </tr>
                <tr>
                    <td><code>Parry_Window_Perfect</code></td>
                    <td>0.15s</td>
                    <td>å®Œç¾å¼¹ååˆ¤å®šæ—¶é•¿ï¼ˆé«˜é£é™©ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Parry_Window_Normal</code></td>
                    <td>0.30s</td>
                    <td>æ™®é€šæ ¼æŒ¡æ—¶é•¿ï¼ˆä½é£é™©ï¼‰</td>
                </tr>
                <tr>
                    <td><code>Parry_Cooldown</code></td>
                    <td>0.80s</td>
                    <td>å¼¹åå¤±è´¥åçš„æƒ©ç½šCD</td>
                </tr>
            </table>

            <h3>3.2 å‘½ä¸­åé¦ˆ (Hit Feedback / Juice)</h3>
            <p>å½“<b>å®Œç¾å¼¹å</b>æˆåŠŸæ—¶ï¼Œå¿…é¡»æ‰§è¡Œä»¥ä¸‹â€œé¡¿å¸§â€é€»è¾‘ä»¥å¢å¼ºæ‰“å‡»æ„Ÿï¼š</p>
            <div class="code-block">
                <span class="keyword">function</span> <span class="string">OnPerfectParry</span>() {<br>
                &nbsp;&nbsp;<span class="comment">// 1. é¡¿å¸§ï¼šå…¨åœºæ—¶é—´æš‚åœ 0.15ç§’</span><br>
                &nbsp;&nbsp;Time.timeScale = <span class="number">0.0</span>;<br>
                &nbsp;&nbsp;WaitRealtime(<span class="number">0.15</span>);<br>
                &nbsp;&nbsp;Time.timeScale = <span class="number">1.0</span>;<br><br>
                &nbsp;&nbsp;<span class="comment">// 2. é•œå¤´éœ‡åŠ¨</span><br>
                &nbsp;&nbsp;Camera.Shake(<span class="string">"Heavy"</span>, <span class="number">0.3s</span>);<br><br>
                &nbsp;&nbsp;<span class="comment">// 3. è§†è§‰ç•¸å˜</span><br>
                &nbsp;&nbsp;PostProcess.ChromaticAberration.Pulse();<br>
                }
            </div>

            <h2 id="ai-behavior">4. æ€ªç‰©AIé€»è¾‘ï¼šè¿‘æˆ˜å…µ (Melee Drone)</h2>
            <p>ä½¿ç”¨è¡Œä¸ºæ ‘ (Behavior Tree) å®ç°ã€‚</p>
            
            <div class="logic-box">
                <div class="logic-step">
                    <span class="step-num">IDLE</span>
                    <div><b>å¾…æœºï¼š</b> æ’­æ”¾å‘¼å¸åŠ¨ç”»ã€‚æ£€æµ‹ç©å®¶æ˜¯å¦è¿›å…¥ <code>Detection_Radius</code> (8ç±³)ã€‚</div>
                </div>
                <div class="logic-step">
                    <span class="step-num">CHASE</span>
                    <div><b>è¿½å‡»ï¼š</b> ç§»åŠ¨å‘ç©å®¶ã€‚å¦‚æœè·ç¦» < <code>Attack_Range</code> (1.5ç±³)ï¼Œåœæ­¢ç§»åŠ¨ï¼Œå‡†å¤‡æ”»å‡»ã€‚</div>
                </div>
                <div class="logic-step">
                    <span class="step-num">WARN</span>
                    <div><b>é¢„è­¦ (å…³é”®)ï¼š</b> æ’­æ”¾çº¢å…‰é—ªçƒç‰¹æ•ˆ (0.5s)ã€‚<br><i>*è¿™æ˜¯ç•™ç»™ç©å®¶ååº”å¼¹åçš„æ—¶é—´çª—å£ã€‚</i></div>
                </div>
                <div class="logic-step">
                    <span class="step-num">ATK</span>
                    <div><b>æ”»å‡»ï¼š</b> å¿«é€Ÿå†²åˆºå¹¶é€ æˆä¼¤å®³ã€‚</div>
                </div>
            </div>

            <h2 id="data-structure">5. æ•°æ®ç»“æ„ (JSON Example)</h2>
            <p>æ­¦å™¨é…ç½®è¡¨ `WeaponTable.json` çš„ç»“æ„å®šä¹‰ã€‚ç­–åˆ’å°†é€šè¿‡Excelå¯¼å‡ºæ­¤æ ¼å¼ã€‚</p>
            
            <div class="code-block">
{
  <span class="string">"id"</span>: <span class="number">1001</span>,
  <span class="string">"name"</span>: <span class="string">"ç­‰ç¦»å­å¤ªåˆ€"</span>,
  <span class="string">"type"</span>: <span class="string">"Melee"</span>,
  <span class="string">"stats"</span>: {
    <span class="string">"attack"</span>: <span class="number">45</span>,
    <span class="string">"attack_speed"</span>: <span class="number">1.2</span>,
    <span class="string">"crit_rate"</span>: <span class="number">0.05</span>
  },
  <span class="string">"combo_chain"</span>: [
    { <span class="string">"anim"</span>: <span class="string">"atk_light_1"</span>, <span class="string">"damage_mult"</span>: <span class="number">1.0</span> },
    { <span class="string">"anim"</span>: <span class="string">"atk_light_2"</span>, <span class="string">"damage_mult"</span>: <span class="number">1.2</span> },
    { <span class="string">"anim"</span>: <span class="string">"atk_heavy_finisher"</span>, <span class="string">"damage_mult"</span>: <span class="number">2.5</span> }
  ]
}
            </div>

            <h2 id="asset-req">6. ç¾æœ¯ä¸éŸ³æ•ˆéœ€æ±‚è¡¨ (Asset List)</h2>
            <p>è¯·ç¾æœ¯/éŸ³é¢‘ç»„æ ¹æ®ä»¥ä¸‹IDè¿›è¡Œèµ„æºåˆ¶ä½œä¸å‘½åã€‚</p>

            <div class="asset-list">
                <!-- èµ„äº§å¡ç‰‡ 1 -->
                <div class="asset-card">
                    <div class="asset-id">VFX_PARRY_SUCCESS</div>
                    <div class="asset-name">ç‰¹æ•ˆï¼šå®Œç¾å¼¹å</div>
                    <div class="asset-desc">çˆ†å‘æ€§çš„åœ†å½¢å†²å‡»æ³¢ï¼Œå¸¦éœ“è™¹è“è‰²ç²’å­ï¼Œé«˜äº®åº¦ã€‚</div>
                    <span class="asset-tag">VFX</span> <span class="asset-tag">P0 (é«˜ä¼˜)</span>
                </div>

                <!-- èµ„äº§å¡ç‰‡ 2 -->
                <div class="asset-card">
                    <div class="asset-id">SFX_BLADE_HIT_FLESH</div>
                    <div class="asset-name">éŸ³æ•ˆï¼šåˆ€ç è‚‰</div>
                    <div class="asset-desc">æ¹¿æ¶¦ã€æ²‰é—·çš„åˆ‡å‰²å£°ï¼Œéœ€è¦æœ‰ä½é¢‘æ‰“å‡»æ„Ÿã€‚</div>
                    <span class="asset-tag">Audio</span>
                </div>

                <!-- èµ„äº§å¡ç‰‡ 3 -->
                <div class="asset-card">
                    <div class="asset-id">UI_ICON_SKILL_DASH</div>
                    <div class="asset-name">å›¾æ ‡ï¼šå†²åˆºæŠ€èƒ½</div>
                    <div class="asset-desc">æ‰å¹³åŒ–é£æ ¼ï¼Œç™½è‰²å‰ªå½±ï¼Œè¡¨ç°ä¸€ä¸ªäººå½±å¸¦æ®‹å½±ã€‚</div>
                    <span class="asset-tag">UI</span>
                </div>
            </div>

            <div style="height: 100px;"></div>
        </div>
    </div>

</body>
</html>